# CHROMOLOGGER

---

<div align="center" style="display: flex; align-items: center; justify-content: center; margin: 10px 0; gap: 10px; max-height: 48px; height: 48px;">
  <a href="https://github.com/sponsors/tutosrive" target="_blank">
  <img src="https://img.shields.io/badge/Sponsor-%F0%9F%92%96%20Dev2Forge-blue?style=for-the-badge&logo=github" alt="Sponsor me on GitHub">
</a>
  <a href="https://ko-fi.com/D1D61GNZR1" target="_blank">
  <img src="https://ko-fi.com/img/githubbutton_sm.svg" alt="Sponsor me on Ko-Fi">
</a>
</div>

---

<!-- Badges -->
  <div>
<!-- Total downloads -->
    <a href="https://pepy.tech/projects/chromologger"><img src="https://static.pepy.tech/badge/chromologger" alt="PyPI Downloads"></a>
<!-- Versi√≥n actual -->
    <a href="https://pypi.org/project/chromologger/"><img alt="PyPI - Version" src="https://img.shields.io/pypi/v/chromologger?label=chromologger"></a>
<!-- Python versions supported -->
    <a href="https://python.org/"><img alt="PyPI - Python Version" src="https://img.shields.io/pypi/pyversions/chromologger"></a> 
<!-- Author -->
    <a href="https://github.com/tutosrive"><img alt="Static Badge" src="https://img.shields.io/badge/Tutos%20Rive-Author-brightgreen"></a>
<!-- Licencia -->
    <a href="https://raw.githubusercontent.com/tutosrive/chromologger/main/LICENSE"><img alt="GitHub License" src="https://img.shields.io/github/license/tutosrive/chromologger"></a>
  </div>

```shell
pip install chromologger
```
---

> ### Visite [chromologger](https://docs.dev2forge.software/chromologger/) para m√°s documentaci√≥n

> Descarga nuestro nuevo proyecto: [`pip install bridgex`](https://github.com/Dev2Forge/bridgex)
> <div align="center"><img src="https://cdn.jsdelivr.net/gh/tutosrive/images-projects-srm-trg@main/dev2forge/logos/bridgex-v0.1.0.webp" width="200"></div>

"**Chromologger**" es un m√≥dulo avanzado de logging dise√±ado para facilitar la creaci√≥n de registros (_logs_) profesionales en aplicaciones desarrolladas con **Python**. Proporciona una soluci√≥n completa y f√°cil de usar para documentar eventos, excepciones y actividades del sistema, mejorando significativamente la capacidad de monitoreo, debugging y mantenimiento del c√≥digo.

## üöÄ Caracter√≠sticas Principales

- **Logging autom√°tico con timestamps precisos** - Cada registro incluye fecha y hora con microsegundos
- **Manejo inteligente de excepciones** - Traceback completo con archivo, l√≠nea y descripci√≥n
- **Archivos de log organizados** - Soporte para m√∫ltiples niveles (INFO, ERROR, etc.)
- **Integraci√≥n con chromolog** - Salida colorizada en consola para mejor visualizaci√≥n
- **Gesti√≥n autom√°tica de rutas** - Detecci√≥n inteligente del directorio del script llamador
- **Sistema de logging interno** - Debug y mantenimiento del propio m√≥dulo
- **API simple e intuitiva** - F√°cil implementaci√≥n en cualquier proyecto

## üì¶ Instalaci√≥n

```bash
# Instalar chromologger
pip install chromologger

# Instalar dependencia (si no se instala autom√°ticamente)  
pip install chromolog==0.2.5
```

## üîß Uso R√°pido

### Uso B√°sico
```python
from chromologger import Logger

# Crear logger (archivo por defecto: log.log en directorio del script)
logger = Logger()

# Registrar mensaje informativo
logger.log('Aplicaci√≥n iniciada correctamente')

# Registrar excepci√≥n
try:
    resultado = 10 / 0
except Exception as e:
    logger.log_e(e)

# Cerrar logger (liberar recursos)
logger.close()
```

### Uso Avanzado
```python
from chromologger import Logger
import os

# Crear directorio si no existe
os.makedirs('./logs', exist_ok=True)

# Logger con archivo personalizado
app_logger = Logger('./logs/mi_aplicacion.log')

# Registrar diferentes tipos de eventos
app_logger.log('Sistema iniciado')
app_logger.log({'evento': 'login', 'usuario': 'admin'})
app_logger.log(f'Procesados 150 elementos')

# Manejo de errores
try:
    with open('archivo_inexistente.txt', 'r') as f:
        contenido = f.read()
except FileNotFoundError as e:
    app_logger.log_e(e)  # Registra traceback completo

app_logger.close()
```

## üìã Formato de Registro

Los registros se almacenan con formato estructurado y timestamps precisos:

**Mensaje informativo:**
```
[INFO][2025-01-06 19:52:08.636560] - Aplicaci√≥n iniciada correctamente
```

**Registro de excepci√≥n:**
```
[ERROR][2025-01-06 19:52:08.636560] - Exception: FileNotFoundError - File: c:\Users\app\main.py - ErrorLine: 35 - Message: [Errno 2] No such file or directory: './data/config.json'
```

## üîß API Documentaci√≥n

### Clase Logger

#### Constructor
```python
Logger(log_file_name: str = 'log.log')
```
- **log_file_name** (str, opcional): Nombre o ruta del archivo de log
  - Si es `'log.log'`: Se crea en el directorio del script llamador
  - Si es otra ruta: Se respeta la ubicaci√≥n especificada

#### M√©todos P√∫blicos

##### üóíÔ∏è log(msg: any) ‚Üí None
Registra mensajes informativos generales con nivel INFO y timestamp autom√°tico.

- **Par√°metros**: `msg` - Mensaje a registrar (acepta cualquier tipo de dato)
- **Caracter√≠sticas**: Conversi√≥n autom√°tica a string, timestamp con microsegundos

##### ‚ö†Ô∏è log_e(e: Exception) ‚Üí None
Registra excepciones con informaci√≥n detallada de traceback.

- **Par√°metros**: `e` - Instancia de Exception o subclases
- **Informaci√≥n incluida**: Tipo de excepci√≥n, archivo, l√≠nea, mensaje completo

##### üîí close() ‚Üí bool
Cierra el archivo de log y libera recursos del sistema.

- **Retorna**: `True` si se cerr√≥ exitosamente, `False` en caso contrario

## üî• Ejemplos Avanzados

### Aplicaci√≥n Web con Logging Completo
```python
from chromologger import Logger
from datetime import datetime
import os

# Configurar logging por fecha
log_dir = './logs'
os.makedirs(log_dir, exist_ok=True)
app_logger = Logger(f'{log_dir}/app_{datetime.now().strftime("%Y%m%d")}.log')

class WebApplication:
    def __init__(self):
        app_logger.log('Inicializando aplicaci√≥n web')
    
    def handle_request(self, user_id, endpoint):
        try:
            app_logger.log(f'Usuario {user_id} accediendo a {endpoint}')
            # ... l√≥gica de procesamiento ...
            app_logger.log(f'Request procesado exitosamente para {user_id}')
        except Exception as e:
            app_logger.log_e(e)
            app_logger.log(f'Error procesando request de usuario {user_id}')
    
    def shutdown(self):
        app_logger.log('Cerrando aplicaci√≥n web')
        app_logger.close()
```

### Sistema de Monitoreo con M√∫ltiples Loggers
```python
from chromologger import Logger

# Diferentes loggers para diferentes prop√≥sitos
access_logger = Logger('./logs/access.log')
error_logger = Logger('./logs/errors.log')
performance_logger = Logger('./logs/performance.log')

def monitor_system():
    try:
        access_logger.log('Sistema de monitoreo iniciado')
        # ... trabajo del sistema ...
        performance_logger.log('Operaci√≥n completada en 2.5 segundos')
    except Exception as e:
        error_logger.log_e(e)
    finally:
        # Cerrar todos los loggers
        for logger in [access_logger, error_logger, performance_logger]:
            logger.close()
```

## ‚öôÔ∏è Caracter√≠sticas T√©cnicas

### Formato de Timestamp
- **Precisi√≥n**: Microsegundos para debugging detallado
- **Formato**: `YYYY-MM-DD HH:MM:SS.microseconds`

### Niveles de Log
- **[INFO]** - Mensajes informativos generales
- **[ERROR]** - Excepciones y errores del sistema
- **Futuros**: WARNING, DEBUG, CRITICAL

### Gesti√≥n de Rutas
- **Detecci√≥n autom√°tica**: Identifica el directorio del script llamador
- **Rutas relativas**: Soporte completo para `./logs/app.log`
- **Rutas absolutas**: Compatible con rutas completas del sistema
- **Creaci√≥n autom√°tica**: El archivo se crea si no existe

## üîß Soluci√≥n de Problemas

### Errores Comunes

**1. FileNotFoundError al crear el logger**
```python
# ‚ùå Error: directorio no existe
logger = Logger('./logs_inexistentes/app.log')

# ‚úÖ Soluci√≥n: crear directorio primero
import os
os.makedirs('./logs', exist_ok=True)
logger = Logger('./logs/app.log')
```

**2. Verificar inicializaci√≥n correcta**
```python
logger = Logger()
if hasattr(logger, 'file') and logger.file != -1:
    logger.log('Logger funcionando correctamente')
else:
    print('Error: Logger no se inicializ√≥ correctamente')
```

## ‚ú® Mejores Pr√°cticas

### 1. Organizaci√≥n de Logs
```python
from datetime import datetime

# Por fecha
date_str = datetime.now().strftime("%Y%m%d")
logger = Logger(f'./logs/app_{date_str}.log')

# Por funcionalidad
auth_logger = Logger('./logs/authentication.log')
db_logger = Logger('./logs/database.log')
api_logger = Logger('./logs/api_requests.log')
```

### 2. Manejo de Recursos
```python
# Patr√≥n recomendado
def process_data():
    logger = Logger('data_processing.log')
    try:
        logger.log('Iniciando procesamiento')
        # ... procesamiento ...
        logger.log('Procesamiento completado')
    except Exception as e:
        logger.log_e(e)
    finally:
        logger.close()
```

### 3. Logging Informativo vs Errores
```python
# ‚úÖ Usar log() para eventos normales
logger.log('Usuario autenticado exitosamente')
logger.log('Base de datos conectada')
logger.log('Archivo procesado: 150 registros')

# ‚úÖ Usar log_e() solo para excepciones
try:
    # operaci√≥n riesgosa
    pass
except Exception as e:
    logger.log_e(e)  # Informaci√≥n completa de traceback
```

## üöÄ Pr√≥ximas Caracter√≠sticas

- üîÑ Soporte para m√∫ltiples niveles de log (WARNING, DEBUG, CRITICAL)
- üîÑ Context managers (with statement)
- üîÑ Rotaci√≥n autom√°tica de archivos por tama√±o/fecha
- üîÑ Configuraci√≥n de formato personalizada
- üîÑ Filtros de log por nivel
- üîÑ Exportaci√≥n a JSON/CSV

## üìö Recursos y Documentaci√≥n

- **[Documentaci√≥n Completa](https://docs.dev2forge.software/chromologger/)** - Gu√≠a completa con ejemplos avanzados
- **[PyPI Package](https://pypi.org/project/chromologger/)** - Informaci√≥n del paquete y versiones
- **[GitHub Repository](https://github.com/Dev2Forge/chromologger)** - C√≥digo fuente y contribuciones
- **[Changelog](https://github.com/Dev2Forge/chromologger/blob/main/CHANGELOG.md)** - Historial de versiones y cambios

## ü§ù Contribuir

¬°Las contribuciones son bienvenidas! Si encuentras alg√∫n problema o tienes sugerencias:

1. Crea un [Issue](https://github.com/Dev2Forge/chromologger/issues) para reportar bugs
2. Env√≠a un [Pull Request](https://github.com/Dev2Forge/chromologger/pulls) con mejoras
3. Comparte feedback en las [Discussions](https://github.com/Dev2Forge/chromologger/discussions)

## üìÑ Licencia

Este proyecto est√° bajo la licencia MIT. Consulta el archivo [LICENSE](https://raw.githubusercontent.com/tutosrive/chromologger/main/LICENSE) para m√°s detalles.

## üôè Agradecimientos

Desarrollado por [Tutos Rive](https://github.com/tutosrive) con ‚ù§Ô∏è para la comunidad Python.

---

> **¬øTe gusta chromologger?** ‚≠ê ¬°Dale una estrella en GitHub y comp√°rtelo!

> **Nuevo proyecto:** Descarga [`bridgex`](https://github.com/Dev2Forge/bridgex) - Nuestro √∫ltimo proyecto para desarrollo avanzado
